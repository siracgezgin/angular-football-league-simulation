{"ast":null,"code":"// src/app/league/league-dashboard/league-dashboard.component.ts\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as LeagueActions from '../../store/league/league.actions';\nimport * as LeagueSelectors from '../../store/league/league.selectors';\nexport let LeagueDashboardComponent = class LeagueDashboardComponent {\n  constructor(store) {\n    this.store = store;\n    this.destroy$ = new Subject();\n    // Component state\n    this.selectedWeek = 1;\n    this.showAllWeeks = false;\n    this.editingMatch = null;\n    // Initialize observables\n    this.standings$ = this.store.select(LeagueSelectors.selectStandings);\n    this.weeklyMatches$ = this.store.select(LeagueSelectors.selectWeeklyMatches);\n    this.championshipPredictions$ = this.store.select(LeagueSelectors.selectChampionshipPredictions);\n    this.currentWeek$ = this.store.select(LeagueSelectors.selectCurrentWeek);\n    this.totalWeeks$ = this.store.select(LeagueSelectors.selectTotalWeeks);\n    this.loading$ = this.store.select(LeagueSelectors.selectLoading);\n    this.error$ = this.store.select(LeagueSelectors.selectError);\n  }\n  ngOnInit() {\n    // Initialize the league\n    this.store.dispatch(LeagueActions.initializeLeague());\n    // Subscribe to current week changes\n    this.currentWeek$.pipe(takeUntil(this.destroy$)).subscribe(week => {\n      this.selectedWeek = week;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  // Action dispatchers\n  playNextWeek() {\n    this.store.dispatch(LeagueActions.playNextWeek());\n  }\n  playAllRemainingMatches() {\n    this.store.dispatch(LeagueActions.playAllRemainingMatches());\n  }\n  playSpecificWeek(week) {\n    this.store.dispatch(LeagueActions.playSpecificWeek({\n      week\n    }));\n  }\n  resetLeague() {\n    this.store.dispatch(LeagueActions.resetLeague());\n  }\n  // Match editing\n  startEditingMatch(match) {\n    this.editingMatch = {\n      matchId: match.id,\n      homeScore: match.homeScore || 0,\n      awayScore: match.awayScore || 0\n    };\n  }\n  cancelEditingMatch() {\n    this.editingMatch = null;\n  }\n  saveMatchEdit() {\n    if (this.editingMatch) {\n      this.store.dispatch(LeagueActions.editMatchResult({\n        matchEdit: this.editingMatch\n      }));\n      this.editingMatch = null;\n    }\n  }\n  // Week navigation\n  selectWeek(week) {\n    this.selectedWeek = week;\n  }\n  toggleShowAllWeeks() {\n    this.showAllWeeks = !this.showAllWeeks;\n  }\n  // Utility methods\n  getWeekRange() {\n    const weeks = [];\n    for (let i = 1; i <= 6; i++) {\n      weeks.push(i);\n    }\n    return weeks;\n  }\n  isWeekCompleted(weekMatches) {\n    return weekMatches.matches.every(match => match.isPlayed);\n  }\n  getMatchesForWeek(weeklyMatches, week) {\n    const weekData = weeklyMatches.find(w => w.week === week);\n    return weekData ? weekData.matches : [];\n  }\n};\nLeagueDashboardComponent = __decorate([Component({\n  selector: 'app-league-dashboard',\n  templateUrl: './league-dashboard.component.html',\n  styleUrls: ['./league-dashboard.component.scss']\n})], LeagueDashboardComponent);","map":{"version":3,"names":["Component","Subject","takeUntil","LeagueActions","LeagueSelectors","LeagueDashboardComponent","constructor","store","destroy$","selectedWeek","showAllWeeks","editingMatch","standings$","select","selectStandings","weeklyMatches$","selectWeeklyMatches","championshipPredictions$","selectChampionshipPredictions","currentWeek$","selectCurrentWeek","totalWeeks$","selectTotalWeeks","loading$","selectLoading","error$","selectError","ngOnInit","dispatch","initializeLeague","pipe","subscribe","week","ngOnDestroy","next","complete","playNextWeek","playAllRemainingMatches","playSpecificWeek","resetLeague","startEditingMatch","match","matchId","id","homeScore","awayScore","cancelEditingMatch","saveMatchEdit","editMatchResult","matchEdit","selectWeek","toggleShowAllWeeks","getWeekRange","weeks","i","push","isWeekCompleted","weekMatches","matches","every","isPlayed","getMatchesForWeek","weeklyMatches","weekData","find","w","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\sirac\\OneDrive\\Masaüstü\\futbol-ligi-simulasyonu\\src\\app\\league\\league-dashboard\\league-dashboard.component.ts"],"sourcesContent":["// src/app/league/league-dashboard/league-dashboard.component.ts\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { LeagueState } from '../../models/league-state.model';\nimport { Team, TeamStats } from '../../models/team.model';\nimport { Match, WeekMatches, MatchEdit } from '../../models/match.model';\n\nimport * as LeagueActions from '../../store/league/league.actions';\nimport * as LeagueSelectors from '../../store/league/league.selectors';\n\n@Component({\n  selector: 'app-league-dashboard',\n  templateUrl: './league-dashboard.component.html',\n  styleUrls: ['./league-dashboard.component.scss']\n})\nexport class LeagueDashboardComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n\n  // Observable data streams\n  standings$: Observable<TeamStats[]>;\n  weeklyMatches$: Observable<WeekMatches[]>;\n  championshipPredictions$: Observable<any[]>;\n  currentWeek$: Observable<number>;\n  totalWeeks$: Observable<number>;\n  loading$: Observable<boolean>;\n  error$: Observable<string | null>;\n\n  // Component state\n  selectedWeek = 1;\n  showAllWeeks = false;\n  editingMatch: MatchEdit | null = null;\n\n  constructor(private store: Store<{ league: LeagueState }>) {\n    // Initialize observables\n    this.standings$ = this.store.select(LeagueSelectors.selectStandings);\n    this.weeklyMatches$ = this.store.select(LeagueSelectors.selectWeeklyMatches);\n    this.championshipPredictions$ = this.store.select(LeagueSelectors.selectChampionshipPredictions);\n    this.currentWeek$ = this.store.select(LeagueSelectors.selectCurrentWeek);\n    this.totalWeeks$ = this.store.select(LeagueSelectors.selectTotalWeeks);\n    this.loading$ = this.store.select(LeagueSelectors.selectLoading);\n    this.error$ = this.store.select(LeagueSelectors.selectError);\n  }\n\n  ngOnInit(): void {\n    // Initialize the league\n    this.store.dispatch(LeagueActions.initializeLeague());\n\n    // Subscribe to current week changes\n    this.currentWeek$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(week => {\n        this.selectedWeek = week;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  // Action dispatchers\n  playNextWeek(): void {\n    this.store.dispatch(LeagueActions.playNextWeek());\n  }\n\n  playAllRemainingMatches(): void {\n    this.store.dispatch(LeagueActions.playAllRemainingMatches());\n  }\n\n  playSpecificWeek(week: number): void {\n    this.store.dispatch(LeagueActions.playSpecificWeek({ week }));\n  }\n\n  resetLeague(): void {\n    this.store.dispatch(LeagueActions.resetLeague());\n  }\n\n  // Match editing\n  startEditingMatch(match: Match): void {\n    this.editingMatch = {\n      matchId: match.id,\n      homeScore: match.homeScore || 0,\n      awayScore: match.awayScore || 0\n    };\n  }\n\n  cancelEditingMatch(): void {\n    this.editingMatch = null;\n  }\n\n  saveMatchEdit(): void {\n    if (this.editingMatch) {\n      this.store.dispatch(LeagueActions.editMatchResult({\n        matchEdit: this.editingMatch\n      }));\n      this.editingMatch = null;\n    }\n  }\n\n  // Week navigation\n  selectWeek(week: number): void {\n    this.selectedWeek = week;\n  }\n\n  toggleShowAllWeeks(): void {\n    this.showAllWeeks = !this.showAllWeeks;\n  }\n\n  // Utility methods\n  getWeekRange(): number[] {\n    const weeks: number[] = [];\n    for (let i = 1; i <= 6; i++) {\n      weeks.push(i);\n    }\n    return weeks;\n  }\n\n  isWeekCompleted(weekMatches: WeekMatches): boolean {\n    return weekMatches.matches.every(match => match.isPlayed);\n  }\n\n  getMatchesForWeek(weeklyMatches: WeekMatches[], week: number): Match[] {\n    const weekData = weeklyMatches.find(w => w.week === week);\n    return weekData ? weekData.matches : [];\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}